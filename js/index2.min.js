userContainer=JSON.parse(localStorage.getItem("data"));const lastUser=userContainer[userContainer.length-1],taskInput=document.getElementById("taskInput"),addTaskBtn=document.getElementById("addTaskBtn"),taskList=document.getElementById("taskList");function addTask(t,e){let s=document.createElement("li");e&&s.classList.add("completed");let a=document.createElement("span");a.textContent=t,a.addEventListener("click",()=>{s.classList.toggle("completed"),saveTasks()});let n=document.createElement("button");n.textContent="Delete",n.addEventListener("click",()=>{taskList.removeChild(s),saveTasks()}),s.appendChild(a),s.appendChild(n),taskList.appendChild(s)}function saveTasks(){let t=[];taskList.querySelectorAll("li").forEach(e=>{t.push({text:e.querySelector("span").textContent,completed:e.classList.contains("completed")})}),localStorage.setItem("tasks",JSON.stringify(t))}function loadTasks(){let t=JSON.parse(localStorage.getItem("tasks"));t.forEach(t=>addTask(t.text,t.completed))}document.getElementById("welcomeMessage").textContent=`Welcome, ${lastUser.code}!`,document.querySelector(".logout-btn").addEventListener("click",()=>{alert("Logging out..."),window.location.href="./index.html"}),loadTasks(),addTaskBtn.addEventListener("click",()=>{let t=taskInput.value.trim();t&&(addTask(t,!1),taskInput.value="",saveTasks())}),taskInput.addEventListener("keypress",t=>{"Enter"===t.key&&addTaskBtn.click()});